<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <title>TaskFlow</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="top-header">
        <div class="header-left">
            <button class="menu-btn" onclick="toggleSidebar()">
                <svg xmlns="http://www.w3.org/2000/svg" height="26" viewBox="0 -960 960 960" width="26" fill="#2f4157">
                    <path d="M120-240v-80h720v80H120Zm0-200v-80h720v80H120Zm0-200v-80h720v80H120Z"/>
                </svg>
            </button>
            <div class="brand-logo">
                <svg xmlns="http://www.w3.org/2000/svg" height="32" viewBox="0 -960 960 960" width="32" fill="#2f4157">
                    <path d="m424-318 282-282-56-56-226 226-114-114-56 56 170 170ZM200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h168q13-36 43.5-58t68.5-22q38 0 68.5 22t43.5 58h168q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm0-80h560v-560H200v560Zm301.5-598.5Q510-807 510-820t-8.5-21.5Q493-850 480-850t-21.5 8.5Q450-833 450-820t8.5 21.5Q467-790 480-790t21.5-8.5ZM200-200v-560 560Z"/>
                </svg>
                <h2>TaskFlow</h2>
            </div>
        </div>
    </header>
    <div class="app-wrapper">
        <nav class="sidebar" id="sidebar">
            <div class="sidebar-header-spacer"></div>
            <ul class="nav-links">
                <li onclick="showPanel('dashboard')" id="nav-dashboard" class="active-nav">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"><path d="M240-200h120v-240h240v240h120v-360L480-740 240-560v360Zm-80 80v-480l320-240 320 240v480H520v-240h-80v240H160Zm320-350Z"/></svg>
                    <span class="link-text">Dashboard</span>
                </li>
                <li onclick="showPanel('tasklist')" id="nav-tasklist">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"><path d="M320-440v-80h480v80H320Zm0-160v-80h480v80H320Zm0 320v-80h480v80H320ZM160-440v-80h80v80h-80Zm0-160v-80h80v80h-80Zm0 320v-80h80v80h-80Z"/></svg>
                    <span class="link-text">Task List</span>
                </li>
                <li onclick="prepareAddTask()" id="nav-taskform">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"><path d="M440-440H200v-80h240v-240h80v240h240v80H520v240h-80v-240Z"/></svg>
                    <span class="link-text">Add Task</span>
                </li>
                <li onclick="showPanel('history')" id="nav-history">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"><path d="M480-120q-138 0-240.5-91.5T122-440h82q14 104 92.5 172T480-200q117 0 198.5-81.5T760-480q0-117-81.5-198.5T480-760q-69 0-129 32t-101 88h110v80H120v-240h80v94q51-64 124.5-99T480-840q75 0 140.5 28.5t114 77q48.5 48.5 77 114T840-480q0 75-28.5 140.5t-77 114q-48.5 48.5-114 77T480-120Zm112-192L440-464v-216h80v184l128 128-56 56Z"/></svg>                     
                    <span class="link-text">History</span>
                </li>
            </ul>
            <div class="sidebar-footer">
                <span class="footer-text">Â© 2026 TaskFlow</span>
            </div>
        </nav>
        <main class="content-area" id="mainContent">        
            <div id="dashboard" class="panel active">
                <div class="welcome-banner">
                    <div class="banner-left">
                        <h1>Hello!</h1>
                        <p>Manage your daily tasks efficiently.</p>
                    </div>
                    <div class="date-badge">
                        <svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" width="20" fill="#5f6368">
                            <path d="M200-80q-33 0-56.5-23.5T120-160v-560q0-33 23.5-56.5T200-800h40v-80h80v80h320v-80h80v80h40q33 0 56.5 23.5T840-720v560q0 33-23.5 56.5T760-80H200Zm0-80h560v-400H200v400Zm0-480h560v-80H200v80Zm0 0v-80 80Z"/>
                        </svg>
                        <span id="currentDate">Loading...</span>
                    </div>
                </div>
                <div class="stats-grid">
                    <div class="stat-card">
                        <h2 id="totalTasks">0</h2>
                        <p>Total Tasks</p>
                    </div>
                    <div class="stat-card">
                        <h2 id="completedTasks">0</h2>
                        <p>Completed</p>
                    </div>
                </div>
            </div>
            <div id="tasklist" class="panel">
                <div class="panel-header">
                    <h2>Task List</h2>
                </div>
                <div class="control-panel">
                    <div class="control-left">
                        <div class="dropdown">
                            <button onclick="toggleSortMenu()" class="dropbtn">
                                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#5f6368"><path d="M120-240v-80h240v80H120Zm0-200v-80h480v80H120Zm0-200v-80h720v80H120Z"/></svg>
                                <span>Sort</span>
                            </button>
                            <div id="sortDropdown" class="dropdown-content">
                                <a href="#" onclick="sortByPriority()">Priority</a>
                                <a href="#" onclick="sortByDeadline()">Deadline</a>
                            </div>
                        </div>
                        <div class="search-bar">
                            <input type="text" id="searchField" placeholder="Search..." onkeyup="searchTasks()">
                        </div>
                    </div>
                    
                    <div class="action-buttons-group">
                         <button class="btn-edit" onclick="editTask()">Edit</button>
                         <button class="btn-delete" onclick="deleteTask()">Delete</button>
                         <button class="btn-complete" onclick="completeTask()">Complete</button>
                    </div>
                </div>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Title</th>
                                <th>Description</th>
                                <th>Deadline</th>
                                <th>Priority</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody id="taskTableBody"></tbody>
                    </table>
                </div>
            </div> <div id="taskform" class="panel">
                <h2 id="formTitle" style="text-align: center; color: var(--primary-color);">Task Form</h2>
                <div class="form-wrapper">
                    <div class="form-group">
                        <label>Title</label>
                        <input type="text" id="txtTitle" placeholder="e.g.: math">
                    </div>
                    <div class="form-group">
                        <label>Description</label>
                        <textarea id="txtDescription" rows="3" maxlength="200" placeholder="Max 200 chars..."></textarea>
                    </div>
                    <div class="form-group">
                        <label>Deadline</label>
                        <input type="date" id="txtDeadline">
                    </div>
                    <div class="form-group">
                        <label>Priority</label>
                        <select id="cbPriority">
                            <option value="Urgent">Urgent</option>
                            <option value="Normal" selected>Normal</option>
                            <option value="Non Urgent">Non Urgent</option>
                        </select>
                    </div>
                    <div class="action-buttons-group" style="justify-content: flex-end; margin-top: 10px;">
                        <button id="btnSave" class="btn-save" onclick="saveTask()">Save</button>
                        <button class="btn-reset" onclick="clearForm()">Cancel</button>
                    </div>
                </div>
            </div>
            <div id="history" class="panel">
                <div class="panel-header">
                    <h2>History</h2>
                </div>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Time</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody id="historyTableBody"></tbody>
                    </table>
                </div>
            </div>
        </main>
    </div>
        <div id="overlay" onclick="toggleSidebar()"></div>
    <script src="script.js"></script>
</body>
</html>